<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÁßüËªäÁ∞ΩË™çÂñÆÁîüÊàêÂô®</title>
    <!-- Tailwind CSS for App UI -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Noto+Serif+TC:wght@600;700&display=swap"
        rel="stylesheet">
    <!-- html2canvas -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-gray-100 min-h-screen font-[&#39;Noto_Sans_TC&#39;] text-gray-800">

    <div class="container mx-auto px-4 py-8 flex flex-col lg:flex-row gap-8">

        <!-- Input Panel -->
        <div class="w-full lg:w-1/3 bg-white rounded-2xl shadow-xl p-6 overflow-y-auto max-h-[90vh] custom-scrollbar">
            <h2 class="text-2xl font-bold mb-6 text-gray-800 flex items-center">
                <span>üìù Â°´ÂØ´Ë≥áÊñô</span>
            </h2>

            <form id="rentalForm" class="space-y-5">
                <!-- Company/Client -->
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-600">ÂÖ¨Âè∏ / ÂÆ¢Êà∂ÂêçÁ®±</label>
                    <input type="text" id="clientName" value="Á©©Âæó"
                        class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all outline-none"
                        placeholder="Ëº∏ÂÖ•ÂêçÁ®±">
                </div>

                <!-- Date -->
                <div class="grid grid-cols-3 gap-2">
                    <div>
                        <label class="block text-sm font-medium text-gray-600">Âπ¥</label>
                        <input type="number" id="year" value="114"
                            class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-600">Êúà</label>
                        <input type="number" id="month" value="12"
                            class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-600">Êó•</label>
                        <input type="number" id="day" value="9"
                            class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                    </div>
                </div>

                <!-- Time -->
                <div class="border-t pt-4">
                    <label class="block text-sm font-medium text-gray-600 mb-2">ÊôÇÈñì (Áî±)</label>
                    <div class="grid grid-cols-2 gap-2">
                        <input type="number" id="startHour" value="05" placeholder="ÊôÇ"
                            class="px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                        <input type="number" id="startMin" value="20" placeholder="ÂàÜ"
                            class="px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                    </div>
                    <label class="block text-sm font-medium text-gray-600 my-2">Ëá≥</label>
                    <div class="grid grid-cols-2 gap-2">
                        <input type="number" id="endHour" placeholder="ÊôÇ"
                            class="px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                        <input type="number" id="endMin" placeholder="ÂàÜ"
                            class="px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                    </div>
                    <label class="block text-sm font-medium text-gray-600 my-2">ÂÖ±Ë®à</label>
                    <div class="grid grid-cols-2 gap-2">
                        <input type="number" id="totalHour" placeholder="ÊôÇ"
                            class="px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                        <input type="number" id="totalMin" placeholder="ÂàÜ"
                            class="px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                    </div>
                </div>

                <!-- Itinerary -->
                <div class="space-y-2 border-t pt-4">
                    <label class="block text-sm font-medium text-gray-600">Ë°åÁ®ãÂÖßÂÆπ</label>
                    <textarea id="itinerary" rows="4"
                        class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none custom-scrollbar"
                        placeholder="Ëº∏ÂÖ•Ë°åÁ®ãÁ¥∞ÁØÄ...">Á©©Âæó 05:20(Justin ÂæêÂÖàÁîü 0930-378-880)(1‰Ωç+1Ë°åÊùé)
Êñ∞ÂåóÂ∏ÇÊ±êÊ≠¢ÂçÄÊ±êÈå†Ë∑Ø16-1Â∑∑18Ëôü‚ÜíÈÄÅÊ°ÉÊ©ü‰∏ÄËà™(CI-160/07:50)</textarea>
                </div>

                <!-- Car Type -->
                <div class="space-y-2 border-t pt-4">
                    <label class="block text-sm font-medium text-gray-600 mb-2">ËªäËºõÁ®ÆÈ°û</label>
                    <div class="flex gap-4">
                        <label class="flex items-center gap-2 cursor-pointer">
                            <input type="checkbox" id="checkImport"
                                class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500">
                            <span>ÈÄ≤Âè£Ëªä</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer">
                            <input type="checkbox" id="checkDomestic"
                                class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500">
                            <span>ÂúãÁî¢Ëªä</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer">
                            <input type="checkbox" id="checkSeat"
                                class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500">
                            <span>‰∫∫Â∫ß</span>
                        </label>
                    </div>
                </div>

                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-600">ËªäËôü</label>
                    <input type="text" id="carNumber" value="RFR-6171"
                        class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                </div>
                <div class="space-y-2">
                    <label class="block text-sm font-medium text-gray-600">ÈßïÈßõ</label>
                    <input type="text" id="driver" value="ËòáÂ£´Á®ã"
                        class="w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                </div>

                <!-- Payment -->
                <div class="space-y-2 border-t pt-4">
                    <div class="grid grid-cols-2 gap-2 items-center">
                        <span class="text-sm font-medium">Âü∫Êú¨Â∞èÊôÇ $</span>
                        <input type="text" id="baseCost"
                            class="px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                    </div>
                    <div class="grid grid-cols-2 gap-2 items-center">
                        <span class="text-sm font-medium">Ë∂ÖÊôÇÂ∞èÊôÇ $</span>
                        <input type="text" id="overtimeCost"
                            class="px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                    </div>
                    <div class="grid grid-cols-2 gap-2 items-center">
                        <span class="text-sm font-medium font-bold">Á∏ΩË®à NT$</span>
                        <input type="text" id="totalCost"
                            class="px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none font-bold">
                    </div>
                </div>


                <div class="pt-6">
                    <button type="button" onclick="generateImage()"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg transform transition hover:-translate-y-1 hover:shadow-xl flex items-center justify-center gap-2">
                        <span>‚¨áÔ∏è ‰∏ãËºâÂúñÁâá</span>
                    </button>
                </div>
            </form>
        </div>

        <!-- Preview Panel -->
        <div
            class="w-full lg:w-2/3 flex flex-col items-center justify-start bg-gray-200/50 rounded-2xl p-4 lg:p-8 overflow-auto">
            <div class="mb-4 text-gray-500 font-medium text-sm">È†êË¶Ω (Â∞áÁîüÊàêÊ≠§Áï´Èù¢)</div>

            <!-- Exact Document Template -->
            <div id="capture-area" class="bg-white shadow-2xl relative">
                <!-- Outer Border Container -->
                <div class="doc-container">

                    <!-- Title -->
                    <h1 class="text-center font-bold tracking-widest doc-title">ÁßüËªäÁ∞ΩË™çÂñÆ</h1>
                    <div class="title-underline-double mx-auto"></div>

                    <!-- Header Values -->
                    <div class="flex justify-between items-end mt-4 mb-1 px-1">
                        <div class="flex items-end text-xl">
                            <span class="font-bold font-serif tracking-widest mr-2">ÂÖ¨Âè∏/ÂÆ¢Êà∂ÂêçÁ®±</span>
                            <span id="preview-clientName"
                                class="border-b-2 border-black min-w-[200px] text-center px-2 pb-1 font-medium"></span>
                        </div>
                        <div class="flex items-end text-xl font-bold font-serif tracking-widest">
                            <span id="preview-year" class="px-2"></span>Âπ¥
                            <span id="preview-month" class="px-2"></span>Êúà
                            <span id="preview-day" class="px-2"></span>Êó•
                        </div>
                    </div>

                    <!-- Main Table -->
                    <table class="w-full border-collapse doc-table">
                        <!-- Row 1: Time Header -->
                        <tr class="h-14">
                            <td class="w-14 text-center font-serif text-xl border-r border-black relative">
                                <span class="vertical-text-center time-header">ÊôÇÈñì</span>
                            </td>
                            <td colspan="4" class="border-r border-black p-0">
                                <div class="flex justify-between items-center h-full px-4 text-xl font-serif">
                                    <div class="flex items-center"><span id="preview-startHour"
                                            class="mx-2 font-sans font-normal"></span> ÊôÇ</div>
                                    <div class="flex items-center"><span id="preview-startMin"
                                            class="mx-2 font-sans font-normal"></span> ÂàÜËá≥</div>
                                    <div class="flex items-center"><span id="preview-endHour"
                                            class="mx-2 font-sans font-normal"></span> ÊôÇ</div>
                                    <div class="flex items-center"><span id="preview-endMin"
                                            class="mx-2 font-sans font-normal"></span> ÂàÜ</div>
                                </div>
                            </td>
                            <td class="w-12 text-center font-serif text-xl border-r border-black">ÂÖ±Ë®à</td>
                            <td class="border-black">
                                <div class="flex justify-around items-center text-xl font-serif">
                                    <div><span id="preview-totalHour" class="mx-1 font-sans font-normal"></span> ÊôÇ</div>
                                    <div><span id="preview-totalMin" class="mx-1 font-sans font-normal"></span> ÂàÜ</div>
                                </div>
                            </td>
                        </tr>

                        <!-- Row 2: Itinerary -->
                        <tr class="h-48">
                            <td class="text-center font-serif text-xl border-r border-black relative">
                                <span class="vertical-text-center">Ë°åÁ®ã</span>
                            </td>
                            <td colspan="6" class="align-top p-3 text-lg font-bold leading-relaxed whitespace-pre-wrap"
                                id="preview-itinerary">
                            </td>
                        </tr>

                        <!-- Row 3: Car Type / Driver -->
                        <!-- Row 3: Car Type / Driver -->
                        <tr class="h-24">
                            <!-- Car Type Label -->
                            <td class="h-24 text-center font-serif text-xl border-r border-black relative w-14 p-0">
                                <div class="vertical-text-center h-full flex flex-col justify-center items-center"
                                    style="letter-spacing: 0.1em; line-height: 1.2;">
                                    ËªäËºõ<br>Á®ÆÈ°û</div>
                            </td>
                            <!-- Car Type Checkboxes -->
                            <td class="h-24 border-r border-black w-36 p-0 align-middle">
                                <!-- Added pb-3 to nudge content up from center -->
                                <div
                                    class="h-full flex flex-col justify-center pb-3 pl-3 text-lg font-bold font-serif space-y-1">
                                    <div class="flex items-center">ÈÄ≤Âè£Ëªä<span class="ml-1 text-lg leading-none"
                                            id="preview-checkImport">‚òê</span></div>
                                    <div class="flex items-center">ÂúãÁî¢Ëªä<span class="ml-1 text-lg leading-none"
                                            id="preview-checkDomestic">‚òê</span></div>
                                    <div class="flex items-center">‰∫∫Â∫ß<span class="ml-1 text-lg leading-none"
                                            id="preview-checkSeat">‚òê</span></div>
                                </div>
                            </td>
                            <!-- Label: Car No / Driver -->
                            <td class="h-24 w-10 border-r border-black p-0">
                                <div class="flex flex-col h-full font-serif text-sm">
                                    <div class="flex-1 w-full border-b border-black flex items-center justify-center">
                                        <div class="text-center leading-tight">Ëªä<br>Ëôü</div>
                                    </div>
                                    <div class="flex-1 w-full flex items-center justify-center">
                                        <div class="text-center leading-tight">Èßï<br>Èßõ</div>
                                    </div>
                                </div>
                            </td>
                            <!-- Value: Car No / Driver -->
                            <td class="h-24 w-48 border-r border-black p-0">
                                <div class="flex flex-col h-full">
                                    <div class="flex-1 w-full border-b border-black flex items-center pl-4 text-xl font-bold"
                                        id="preview-carNumber"></div>
                                    <div class="flex-1 w-full flex items-center pl-4 text-xl font-bold"
                                        id="preview-driver">
                                    </div>
                                </div>
                            </td>
                            <!-- Label: Basic / Overtime -->
                            <td class="h-24 w-10 border-r border-black p-0">
                                <div class="flex flex-col h-full font-serif text-lg">
                                    <!-- Added pb-1 to nudge label up -->
                                    <div
                                        class="flex-1 w-full border-b border-black flex items-center justify-center pb-1">
                                        <div class="text-center leading-tight">Âü∫<br>Êú¨</div>
                                    </div>
                                    <!-- Added pb-1 to nudge label up -->
                                    <div class="flex-1 w-full flex items-center justify-center pb-1">
                                        <div class="text-center leading-tight">Ë∂Ö<br>ÊôÇ</div>
                                    </div>
                                </div>
                            </td>
                            <!-- Value: Basic / Overtime -->
                            <td colspan="2" class="h-24 p-0">
                                <div class="flex flex-col h-full">
                                    <div
                                        class="flex-1 w-full border-b border-black flex items-center justify-end pr-4 text-xl font-serif">
                                        Â∞è ÊôÇ $ <span id="preview-baseCost"
                                            class="ml-2 w-16 text-center font-sans font-bold"></span>
                                    </div>
                                    <div class="flex-1 w-full flex items-center justify-end pr-4 text-xl font-serif">
                                        Â∞è ÊôÇ $ <span id="preview-overtimeCost"
                                            class="ml-2 w-16 text-center font-sans font-bold"></span>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <!-- Row 4: Signature / Totals -->
                        <tr class="h-32">
                            <td class="h-32 text-center font-serif text-xl border-r border-black relative w-14 p-0">
                                <div class="vertical-text-center h-full flex flex-col justify-center items-center"
                                    style="letter-spacing: 0.1em; line-height: 1.2;">
                                    È°ßÂÆ¢<br>Á∞ΩÂêç</div>
                            </td>
                            <td colspan="3" class="h-32 align-top p-2 border-r border-black relative">
                                <span
                                    class="italic font-serif text-xl text-gray-700 absolute top-2 left-2">SIGNATURE</span>
                            </td>
                            <!-- Label: Rent / Remarks -->
                            <td class="h-32 w-8 border-r border-black p-0">
                                <div class="flex flex-col h-full font-serif text-lg">
                                    <div class="flex-1 w-full border-b border-black flex items-center justify-center">
                                        <div class="text-center leading-tight">Áßü<br>Èáë</div>
                                    </div>
                                    <div class="flex-1 w-full flex items-center justify-center">
                                        <div class="text-center leading-tight">ÂÇô<br>Ë®ª</div>
                                    </div>
                                </div>
                            </td>
                            <!-- Value: Total / Remarks -->
                            <td colspan="2" class="h-32 p-0">
                                <div class="flex flex-col h-full">
                                    <div
                                        class="flex-1 w-full border-b border-black flex items-center pl-2 text-xl font-serif">
                                        <span class="text-lg font-bold leading-none mr-2">Á∏ΩË®à</span>
                                        <span class="text-2xl font-bold italic mr-1">NT$</span>
                                        <span id="preview-totalCost" class="text-2xl font-bold italic"></span>
                                    </div>
                                    <div class="flex-1 w-full flex items-center pl-2">
                                        <!-- Remarks -->
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </table>

                    <!-- Side Text (Absolute positioned relative to doc-container) -->
                    <div class="side-text-container">
                        <span>Â≠òÊ†πËÅØ Ô∏µÁôΩÔ∏∂</span>
                        <span>ÂÆ¢Êà∂ËÅØ Ô∏µÁ¥ÖÔ∏∂</span>
                    </div>

                </div>
            </div>

        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>